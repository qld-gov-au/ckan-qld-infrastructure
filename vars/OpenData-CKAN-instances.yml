---
cloudformation_stacks:
  - name: OpenData-PROD-OpsWorks-instances
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/Datashades-OpsWorks-CKAN-Instances.cfn.yml"
    template_parameters:
      Environment: PROD
      OpsWorksStackID: PRODOpenDataOpsWorksStack
      RedisLayerID: PRODOpenDataOpsWorksRedisLayer
      SolrLayerID: PRODOpenDataOpsWorksSolrLayer
      WebLayerID: PRODOpenDataOpsWorksWebLayer
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: PRODCKANAppSubnet
    tags:
      Environment: PROD
      Service: Open Data
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "No"

  - name: OpenData-STAGING-OpsWorks-instances
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/Datashades-OpsWorks-CKAN-Instances.cfn.yml"
    template_parameters:
      Environment: STAGING
      OpsWorksStackID: STAGINGOpenDataOpsWorksStack
      RedisLayerID: STAGINGOpenDataOpsWorksRedisLayer
      SolrLayerID: STAGINGOpenDataOpsWorksSolrLayer
      WebLayerID: STAGINGOpenDataOpsWorksWebLayer
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: STAGINGCKANAppSubnet
    tags:
      Environment: STAGING
      Service: Open Data
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "No"

  - name: OpenData-TRAINING-OpsWorks-instances
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/Datashades-OpsWorks-CKAN-Instances.cfn.yml"
    template_parameters:
      Environment: TRAINING
      OpsWorksStackID: TRAININGOpenDataOpsWorksStack
      RedisLayerID: TRAININGOpenDataOpsWorksRedisLayer
      SolrLayerID: TRAININGOpenDataOpsWorksSolrLayer
      WebLayerID: TRAININGOpenDataOpsWorksWebLayer
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: TRAININGCKANAppSubnet
    tags:
      Environment: TRAINING
      Service: Open Data
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "Yes"

  - name: OpenData-DEV-OpsWorks-instances
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/Datashades-OpsWorks-CKAN-Instances.cfn.yml"
    template_parameters:
      Environment: DEV
      OpsWorksStackID: DEVOpenDataOpsWorksStack
      RedisLayerID: DEVOpenDataOpsWorksRedisLayer
      SolrLayerID: DEVOpenDataOpsWorksSolrLayer
      WebLayerID: DEVOpenDataOpsWorksWebLayer
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: DEVCKANAppSubnet
    tags:
      Environment: DEV
      Service: Open Data
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "Yes"
