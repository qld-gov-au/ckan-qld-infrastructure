---
service_name: Publications
service_name_lower: "{{ service_name | lower }}"
title: Publications
enable_datastore: "no"
#public_tld is the route53 domain which it uses to update as well as set ckan sitename domain unless cloudfront points at another domain 0_0
public_tld: publications.qld.gov.au

legacy_theme: "https://s3.amazonaws.com/osssio-ckanpub-test-deploy/{{ service_name }}-{{ Environment }}/CKAN-theme.zip"
ckan_2_7: "https://github.com/ckan/ckan/archive/ckan-2.7.3.zip"
ckan_2_8: "https://github.com/ckan/ckan/archive/ckan-2.8.3.zip"

basic_facts:
  - Environment: PROD
    PublicStackZoneTLD: "{{ public_tld }}"
    Domain: "www.publications.qld.gov.au,publications.qld.gov.au"
    SiteDomain: "www.publications.qld.gov.au" #CKAN SiteDomain
    RootDomain: "publications.qld.gov.au" #ACM cert creation which also gets *.RootDomain
    CmsOrigin: ""
    CKANThemeSource: "{{ legacy_theme }}"
    CKANSource: "{{ ckan_2_7 }}"
    CookbookRevision: "2.1.1-qgov" #https://github.com/qld-gov-au/opswx-ckan-cookbook/tags
    QgovExtensionRevision: "2.0.1" #https://github.com/qld-gov-au/ckan-ex-qgov.git


  - Environment: STAGING
    PublicStackZoneTLD: "{{ public_tld }}"
    Domain: "staging.publications.qld.gov.au" #Cloudfront Alt Domains
    SiteDomain: "staging.publications.qld.gov.au" #CKAN SiteDomain
    RootDomain: "staging.publications.qld.gov.au" #ACM cert creation which also gets *.RootDomain
    CmsOrigin: ""
    CKANThemeSource: "{{ legacy_theme }}"
    CKANSource: "{{ ckan_2_7 }}"
    CookbookRevision: "2.1.1-qgov" #https://github.com/qld-gov-au/opswx-ckan-cookbook/tags
    QgovExtensionRevision: "2.0.1" #https://github.com/qld-gov-au/ckan-ex-qgov.git

  - Environment: TRAINING
    PublicStackZoneTLD: "{{ public_tld }}"
    Domain: "training.publications.qld.gov.au" #Cloudfront Alt Domains
    SiteDomain: "training.publications.qld.gov.au" #CKAN SiteDomain
    RootDomain: "training.publications.qld.gov.au" #ACM cert creation which also gets *.RootDomain
    CmsOrigin: ""
    CKANThemeSource: "{{ legacy_theme }}"
    CKANSource: "{{ ckan_2_7 }}"
    CookbookRevision: training  #https://github.com/qld-gov-au/opswx-ckan-cookbook/commits/training
    QgovExtensionRevision: training #https://github.com/qld-gov-au/ckan-ex-qgov.git

  - Environment: DEV
    PublicStackZoneTLD: "{{ public_tld }}"
    Domain: "dev.publications.qld.gov.au" #Cloudfront Alt Domains
    SiteDomain: "dev.publications.qld.gov.au" #CKAN SiteDomain
    RootDomain: "dev.publications.qld.gov.au" #ACM cert creation which also gets *.RootDomain
    CmsOrigin: ""
    CKANThemeSource: "{{ legacy_theme }}"
    CKANSource: "{{ ckan_2_7 }}"
    CookbookRevision: develop #https://github.com/qld-gov-au/opswx-ckan-cookbook/commits/develop
    QgovExtensionRevision: develop #https://github.com/qld-gov-au/ckan-ex-qgov.git
