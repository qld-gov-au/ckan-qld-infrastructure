---
titlecase_name: Publications
lowercase_name: publications # Unfortunately CloudFormation doesn't provide a 'lowercase' function
region: ap-southeast-2
template: "templates/Datashades-OpsWorks-CKAN-Instances.cfn.yml"

cloudformation_stacks:
  - name: "{{ titlecase_name }}-PROD-OpsWorks-instances"
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: PROD
      OpsWorksStackID: "PROD{{ titlecase_name }}OpsWorksStack"
      SolrLayerID: "PROD{{ titlecase_name }}OpsWorksSolrLayer"
      WebLayerID: "PROD{{ titlecase_name }}OpsWorksWebLayer"
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: PRODCKANAppSubnet
    tags:
      Environment: PROD
      Service: "{{ titlecase_name }}"
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "No"

  - name: "{{ titlecase_name }}-STAGING-OpsWorks-instances"
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: STAGING
      OpsWorksStackID: "STAGING{{ titlecase_name }}OpsWorksStack"
      SolrLayerID: "STAGING{{ titlecase_name }}OpsWorksSolrLayer"
      WebLayerID: "STAGING{{ titlecase_name }}OpsWorksWebLayer"
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: STAGINGCKANAppSubnet
    tags:
      Environment: STAGING
      Service: "{{ titlecase_name }}"
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "No"

  - name: "{{ titlecase_name }}-TRAINING-OpsWorks-instances"
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: TRAINING
      OpsWorksStackID: "TRAINING{{ titlecase_name }}OpsWorksStack"
      SolrLayerID: "TRAINING{{ titlecase_name }}OpsWorksSolrLayer"
      WebLayerID: "TRAINING{{ titlecase_name }}OpsWorksWebLayer"
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: TRAININGCKANAppSubnet
    tags:
      Environment: TRAINING
      Service: "{{ titlecase_name }}"
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "Yes"

  - name: "{{ titlecase_name }}-DEV-OpsWorks-instances"
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: DEV
      OpsWorksStackID: "DEV{{ titlecase_name }}OpsWorksStack"
      SolrLayerID: "DEV{{ titlecase_name }}OpsWorksSolrLayer"
      WebLayerID: "DEV{{ titlecase_name }}OpsWorksWebLayer"
      DefaultEC2Key: osssio-global-ckan
      AppSubnets: DEVCKANAppSubnet
    tags:
      Environment: DEV
      Service: "{{ titlecase_name }}"
      itoc_monitored: false
      Division: Qld Online
      Owner: Development and Delivery
      Version: "1.0"
      PowerManaged: "Yes"
