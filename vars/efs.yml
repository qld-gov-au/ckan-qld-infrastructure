---
template: "templates/efs.cfn.yml"

cloudformation_stacks:
  - name: CKAN-PROD-EFS-stack
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: PROD
      ApplicationName: CKAN
      StackTLD: ckan-internal.services.qld.gov.au
      StackVPC: "CKANVpc-{{ Environment }}"
      DbSubnets: "{{ Environment }}CKANDBSubnet"
      AdminSG: "{{ Environment }}CKANManagementSG"
    tags:
      Environment: "{{ Environment }}"
      Service: "CKAN"
      Division: "{{ Division }}"
      Owner: "{{ Owner }}"
      Version: "1.0"
      PowerManaged: "No"

  - name: CKAN-STAGING-EFS-stack
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: STAGING
      ApplicationName: CKAN
      StackTLD: ckan-internal.staging-services.qld.gov.au
      StackVPC: "CKANVpc-{{ Environment }}"
      DbSubnets: "{{ Environment }}CKANDBSubnet"
      AdminSG: "{{ Environment }}CKANManagementSG"
    tags:
      Environment: "{{ Environment }}"
      Service: "CKAN"
      Division: "{{ Division }}"
      Owner: "{{ Owner }}"
      Version: "1.0"
      PowerManaged: "No"

  - name: CKAN-TRAINING-EFS-stack
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: TRAINING
      ApplicationName: CKAN
      StackTLD: internal.ckan.training-services.qld.gov.au
      StackVPC: "CKANVpc-{{ Environment }}"
      DbSubnets: "{{ Environment }}CKANDBSubnet"
      AdminSG: "{{ Environment }}CKANManagementSG"
    tags:
      Environment: "{{ Environment }}"
      Service: "CKAN"
      Division: "{{ Division }}"
      Owner: "{{ Owner }}"
      Version: "1.0"
      PowerManaged: "Yes"

  - name: CKAN-DEV-EFS-stack
    state: "{{ state | default('present')}}"
    region: "{{ region }}"
    disable_rollback: true
    template: "{{ template }}"
    template_parameters:
      Environment: DEV
      ApplicationName: CKAN
      StackTLD: internal.ckan.devpit140cs.qgov.net.au
      StackVPC: "CKANVpc-{{ Environment }}"
      DbSubnets: "{{ Environment }}CKANDBSubnet"
      AdminSG: "{{ Environment }}CKANManagementSG"
    tags:
      Environment: "{{ Environment }}"
      Service: "CKAN"
      Division: "{{ Division }}"
      Owner: "{{ Owner }}"
      Version: "1.0"
      PowerManaged: "Yes"
