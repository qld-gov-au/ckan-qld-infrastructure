---
cloudformation_stacks:
  - name: CKAN-PROD-Cache
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/cache.cfn.yml"
    template_parameters:
      Environment: PROD
      Platform: CKAN
      AZMode: "cross-az"
      NumCacheNodes: 2
      Subnets: PRODCKANDBSubnet
    tags:
      Environment: PROD
      Service: CKAN
      itoc_monitored: "false"
      Division: "Qld Online"
      Owner: "Development and Delivery"
      Version: "1.0"
      PowerManaged: "No"

  - name: CKAN-STAGING-Cache
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/cache.cfn.yml"
    template_parameters:
      Environment: STAGING
      Platform: CKAN
      Subnets: STAGINGCKANDBSubnet
    tags:
      Environment: STAGING
      Service: CKAN
      itoc_monitored: 'false'
      Division: "Qld Online"
      Owner: "Development and Delivery"
      Version: "1.0"
      PowerManaged: "No"

  - name: CKAN-TRAINING-Cache
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/cache.cfn.yml"
    template_parameters:
      Environment: TRAINING
      Platform: CKAN
      Subnets: TRAININGCKANDBSubnet
    tags:
      Environment: TRAINING
      Service: CKAN
      itoc_monitored: "false"
      Division: "Qld Online"
      Owner: "Development and Delivery"
      Version: "1.0"
      PowerManaged: "Yes"

  - name: CKAN-DEV-Cache
    state: "{{ state | default('present')}}"
    region: ap-southeast-2
    disable_rollback: true
    template: "templates/cache.cfn.yml"
    template_parameters:
      Environment: DEV
      Platform: CKAN
      Subnets: DEVCKANDBSubnet
    tags:
      Environment: DEV
      Service: CKAN
      itoc_monitored: "false"
      Division: "Qld Online"
      Owner: "Development and Delivery"
      Version: "1.0"
      PowerManaged: "Yes"
